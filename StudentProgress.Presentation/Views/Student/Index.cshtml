@using StudentProgress.BusinessLogic.Profiles.Dtos
@model List<StudentDto>



<div class="container p-3">
	<div class="row pt-4">
		<div class="col-6">
			<h2 class="" style="color:black;">List of students</h2>
		</div>

		@if (User is not null && User.Identity is not null && User.Identity.IsAuthenticated && User.IsInRole("admin"))
		{
			<div class="col-6 text-end">
				<a class="btn btn-primary btn-sm" href="/Student/Add" role="button">
					<i class="bi bi-plus-circle"></i> Add new item
				</a>
			</div>
		}

	</div>

	<br /><br />

	<table class="table table-bordered table-striped table-dark" style="width:100%">
		<thead>
			<tr>
				<th>Id</th>
				<th>FullName</th>
				<th>Age</th>
				<th>Faculty</th>
				<th>Specialty</th>
				<th>Group</th>
				@if (User is not null && User.Identity is not null && User.Identity.IsAuthenticated && User.IsInRole("admin"))
				{
					<th></th>
				}

			</tr>
		</thead>
		<tbody>
			@foreach (var student in Model)
			{
				<tr>
					<td>@student.Id</td>
					<td>@student.FullName</td>
					<td>@student.Age</td>
					<td>@student.Faculty</td>
					<td>@student.Specialty</td>
					<td>@student.GroupName</td>

					@if (User is not null && User.Identity is not null && User.Identity.IsAuthenticated && User.IsInRole("admin"))
					{
						<td>
							<a class="btn btn-primary btn-sm" href="/Student/Edit/@student.Id">Edit</a>
							<a class="btn btn-danger btn-sm" href="/Student/Delete/@student.Id">Delete</a>
						</td>
					}				
				</tr>
			}
		</tbody>
	</table>
</div>